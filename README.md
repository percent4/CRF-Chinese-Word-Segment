利用CRF++进行中文分词

维护者：1137061634@qq.com
维新公众号：Python爬虫与算法

### 语料

- 人民日报中文分词语料
- 微软中文分词语料

训练集与测试集的比例为9:1，具体的改写脚本可以参考`read_segment_corpus.py`。

### CRF模型

工具采用CRF++，训练命令如下：

```shell script
crf_learn  -f 3 -c 4.0 template train.data model -t
```

### 模型评估结果

```
accuary:  0.96405717503858
p:  0.9184067155248071
r:  0.9206969935013926
f1:  0.9195504284452864
classification report: 
           precision    recall  f1-score   support

     Char       0.92      0.92      0.92    350075

micro avg       0.92      0.92      0.92    350075
macro avg       0.92      0.92      0.92    350075
```

### 加上用于词典后的模型预测结果

```
原句:上海野生动物园群熊伤人事件救援画面曝光
分词结果:上海/野生动物园/群/熊/伤人/事件/救援/画面/曝光

原句:土耳其被曝秘密试射俄制S400防空导弹 美方高层放出狠话
分词结果:土耳其/被/曝/秘密/试/射/俄/制/S400/防空/导弹/美/方/高层/放/出/狠话
 
原句:国家税务总局稽查局副局长林枫接受纪律审查和监察调查
分词结果:国家税务总局/稽查局/副/局长/林枫/接受/纪律/审查/和/监察/调查

原句:羊毛党不过是流量
分词结果:羊毛党/不过是/流量

原句:广西龙胜金秋梯田美如画
分词结果:广西/龙胜/金秋/梯田/美/如/画

原句:早在上映第四天，《姜子牙》累计票房就已经高达10.36亿，后来单日票房一路下跌，最低时跌至500万左右，是同档期对手《我和我的家乡》的五分之一，甚至还不及小成本电影《一点就到家》，位列国庆档新片倒数第二。用“断崖式下跌”来形容这部国漫新作的单日票房走向毫不为过。
分词结果:早/在/上映/第四天/，/《/姜子牙/》/累计/票房/就/已经/高/达/10/./3/6亿/，/后来/单/日/票房/一路/下跌/，/最低/时/跌/至/5/0/0万/左右/，/是/同/档期/对手/《/我/和/我/的/家乡/》/的/五分之一/，/甚至/还/不及/小/成本/电影/《/一点/就/到/家/》/，/位/列/国庆档/新片/倒数/第二/。/用/“/断崖式/下跌/”/来/形容/这/部/国/漫/新作/的/单/日/票房/走向/毫不/为/过/。
 
原句:15日，莘庄工业区新时代文明实践的“大本营”——坐落于颛盛路745号的莘庄工业区新时代文明实践分中心正式落成。
分词结果:1/5日/，莘庄/工业区/新时代/文明/实践/的/“/大本营/”/——/坐落/于/颛盛路/745号/的莘庄/工业区/新时代/文明/实践/分/中心/正式/落成/。
```

### todo

将中分分词封装成HTTP服务，方式demo展示。